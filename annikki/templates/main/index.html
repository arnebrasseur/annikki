<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:py="http://genshi.edgewall.org/"
      xmlns:xi="http://www.w3.org/2001/XInclude">
  <xi:include href="../base.html" />
  <head />
  <body id="main" class="general">
    <div id="content" class="showgrid-">
      <div id="flashbox" />
      <div id="main-counters">
	<div class="stat-num">
	  <span class="pre"></span>
	  <span class="number">${counters['reviews']}</span>
	  <span class="descr">cards reviewed</span>
	</div>
	
	<div class="stat-num">
	  <span class="pre">from</span>
	  <span class="number">${counters['decks']}</span>
	  <span class="descr">decks</span>
	</div>
	
	<div class="stat-num">
	  <span class="pre">by</span>
	  <span class="number">${counters['users']}</span>
	  <span class="descr">people</span>
	</div>
      </div>

      <div id="ranking-wrap">
	<div class="ranking" id="user-ranking">
	  <h3>Most active users</h3>
	  <ol>
	    <li py:for="name, count in user_rank">
	      <a href="${url(controller='user', action='profile', user=name)}">
		${name} <span class="user-review-count">${count}</span>
	      </a>
	    </li>	    
	  </ol>
	</div>
	<div class="ranking" id="deck-ranking">
	  <h3>Most popular decks</h3>
	  <ol>
	    <li py:for="deck, count in deck_rank">
	      <a href="${url(controller='deck', action='view', deck=deck)}">
		${deck} <span class="deck-review-count">${count}</span>
	      </a>
	    </li>	        
	  </ol>
	</div>
      </div>

      <!--
      <ol>
	<li py:for="r in review_sets">
	  ${r.user.username} studied ${len(r.reviews)} cards at ${r.timestamp}
	  <div py:for="c in r.reviews" class="card">
	    <div class="q">${Markup(c.card.question)}</div>
	    <div class="a">${Markup(c.card.answer)}</div>
	  </div>
	</li>
      </ol>
      -->
    </div>
  </body>
</html>
